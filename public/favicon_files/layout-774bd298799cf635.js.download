(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{58925:function(e,t,n){Promise.resolve().then(n.t.bind(n,84080,23)),Promise.resolve().then(n.t.bind(n,74014,23)),Promise.resolve().then(n.t.bind(n,31391,23)),Promise.resolve().then(n.t.bind(n,19593,23)),Promise.resolve().then(n.t.bind(n,19837,23)),Promise.resolve().then(n.t.bind(n,52339,23)),Promise.resolve().then(n.bind(n,2300)),Promise.resolve().then(n.t.bind(n,53054,23)),Promise.resolve().then(n.bind(n,13684)),Promise.resolve().then(n.bind(n,19651)),Promise.resolve().then(n.t.bind(n,31183,23))},2300:function(e,t,n){"use strict";n.d(t,{GlobalModals:function(){return el}});var r=n(57437),i=n(16463),s=n(91606),a=n(2265),l=n(81980),o=n.n(l),c=n(76015),d=n(81149),u=n(95401),m=n(82442),p=n(78958),g=n(8792);let f=e=>{let{title:t,code:n,description:i,icon:s}=e,{copy:a}=(0,p.m)();return(0,r.jsxs)("div",{className:"flex gap-3 rounded-2xl bg-neutral-20 p-3 dark:bg-neutral-0/5",children:[(0,r.jsx)("div",{className:"h-[34px] min-h-[34px] w-[34px] min-w-[34px] overflow-hidden rounded-xl",children:(0,r.jsx)("img",{src:s,alt:"icon",className:"h-full w-full object-cover"})}),(0,r.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"text-sm text-neutral-900 dark:text-neutral-0",children:t}),(0,r.jsxs)("div",{className:"flex items-center gap-1 rounded-md bg-neutral-40 px-1.5 py-0.5 dark:bg-neutral-700",children:[(0,r.jsx)("div",{className:"text-xs font-medium text-neutral-900 dark:text-neutral-0",children:n}),(0,r.jsx)(u.WithGenericTooltip,{content:"Copy",children:(0,r.jsx)("button",{type:"button",onClick:()=>{m.Am.success("Copied to clipboard"),a(n)},"aria-label":"Tooltip Button",children:(0,r.jsx)(g.TI,{className:"h-[14px] w-[14px] stroke-[1.75] text-neutral-900 dark:text-neutral-0"})})})]})]}),(0,r.jsx)("div",{className:"text-sm text-neutral-600 dark:text-neutral-40",children:i})]})]})},x=e=>{let{title:t,cta:n,sub_content:i,description:s,redirectHandler:a}=e;return(0,r.jsxs)("div",{className:"flex w-full max-w-[401px] flex-col gap-[18px]",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2 text-center",children:[(0,r.jsx)("h3",{className:"text-[32px] font-medium leading-[44px] text-neutral-900 dark:text-neutral-0",style:{fontFamily:"announcement-modal-title"},children:t}),(0,r.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-40",children:s})]}),(0,r.jsx)("div",{className:"flex flex-col gap-1",children:i.map((e,t)=>(0,r.jsx)(f,{...e},t))})]}),(0,r.jsx)(d.z,{variant:"ai",onClick:()=>{var e;a(null!==(e=n.redirect_to)&&void 0!==e?e:"")},children:n.text})]})},h=e=>{let{announcementModal:t,redirectHandler:n,onCloseBtnClick:i}=e,[s,l]=(0,a.useState)(!1),d=null==t?void 0:t.content;return((0,a.useEffect)(()=>{var e,n,r;if(!t||!t.is_enabled)return;let i=null!==(e=t.max_shows)&&void 0!==e?e:1,s=null!==(n=t.key)&&void 0!==n?n:"announcement-modal",a=parseInt(null!==(r=localStorage.getItem(s))&&void 0!==r?r:"0",10);a>=i||(localStorage.setItem(s,(a+1).toString()),l(!0),Promise.all(t.content.titleFonts.map(e=>new FontFace("announcement-modal-title","url(".concat(e.url,")"),e.options).load())).then(e=>{e.forEach(e=>{var t;null===(t=document)||void 0===t||t.fonts.add(e)})}).catch(()=>{}))},[t,l]),d)?(0,r.jsx)(c.$E,{open:s,onOpenChange:l,children:(0,r.jsxs)(c.Yk,{className:"h-full max-h-[519px] w-full max-w-[789px] transition-colors duration-500",children:[(0,r.jsxs)(c.DQ,{className:"relative w-full flex-row gap-0 overflow-hidden rounded-[18px]",children:[t.is_confetti_enabled&&(0,r.jsx)(o(),{recycle:!1,gravity:.5}),(0,r.jsx)(c.Zh,{onClick:i}),(0,r.jsx)("div",{className:"h-full min-w-[280px] bg-neutral-20 dark:bg-neutral-800",children:(0,r.jsx)("img",{src:d.primary_announcement_img,alt:"primary",className:"h-full w-full object-cover"})}),(0,r.jsx)("div",{className:"grid h-full w-full place-items-center p-6",children:(0,r.jsx)(x,{...d,redirectHandler:n})})]}),d.secondary_announcement_img&&(0,r.jsx)("div",{className:"absolute left-2 top-0 z-50 h-[100px] w-[95px] -translate-x-1/2 -translate-y-1/2 transform",children:(0,r.jsx)("img",{src:d.secondary_announcement_img,alt:"secondary",className:"h-full w-full object-cover"})})]})}):null};var v=n(24019),_=n(43664);let N=()=>((0,a.useEffect)(()=>{let e=()=>{m.Am.warning("There seems to be a problem with the connection.",{renderCta:e=>(0,r.jsx)(d.z,{...e,onClick:()=>{_.c.triggerEventUsingElementId(v.i.RELOAD_CANVAS),window.location.reload()},children:"Reload"}),duration:1e4})},t=()=>{m.Am.success("You are back online!")};return window.addEventListener("offline",e),window.addEventListener("online",t),()=>{window.removeEventListener("offline",e),window.removeEventListener("online",t)}},[]),null);var E=n(63218),I=n(83359),j=n(83649),w=n(54012),b=n(24528),y=n(29865),k=n(52247),S=n(17674),T=n(66648),A=n(8662);let C=e=>{let{onClick:t,isSelected:n,index:i}=e;return(0,r.jsx)("button",{id:"image-carousel-indicator-".concat(i),"aria-label":"Image#".concat(i),type:"button",onClick:t,className:(0,b.cn)("h-1.5 min-h-1.5 w-1.5 min-w-1.5 rounded-full bg-neutral-900 bg-opacity-[0.24] opacity-100 backdrop-blur-[6px] transition-all duration-500 dark:bg-neutral-0",{"w-3 min-w-3 bg-opacity-100":n})})},P=e=>{let{images:t,className:n="",currentImgIndex:i,onChange:s}=e;return(0,r.jsx)("div",{className:"h-full min-w-[280px] max-w-[280px] bg-neutral-20 dark:bg-neutral-800",children:(0,r.jsx)(A.lr,{showArrows:!1,useKeyboardArrows:!0,autoPlay:!0,interval:3e3,infiniteLoop:!0,showStatus:!1,showThumbs:!1,showIndicators:t.length>1,onChange:e=>{null==s||s(e)},renderIndicator:(e,t,n)=>(0,r.jsx)(C,{onClick:e,isSelected:t,index:n}),selectedItem:i,children:t.map((e,t)=>(0,r.jsx)("div",{className:"h-full w-full",children:(0,r.jsx)(T.default,{src:e,alt:"".concat(t),className:"".concat(n," h-full max-h-screen w-full object-contain"),width:280,height:280})},t))})})},O=[{src:"".concat(k.v.ASSETS_CDN,"assets/images/txt to art.png"),darkSrc:"".concat(k.v.ASSETS_CDN,"assets/images/txt to art dark.png"),content:{title:"Turn Text into Art",description:"Type a few words and instantly see them transformed into a captivating image.",Icon:S.UV}},{src:"".concat(k.v.ASSETS_CDN,"assets/images/image remix.png"),darkSrc:"".concat(k.v.ASSETS_CDN,"assets/images/image remix dark.png"),content:{title:"Remix Images with AI",description:"Combine your images with text prompts for endless creative possibilities.",Icon:S.zS}},{src:"".concat(k.v.ASSETS_CDN,"assets/images/templates.png"),darkSrc:"".concat(k.v.ASSETS_CDN,"assets/images/templates dark.png"),content:{title:"Limitless Design with Infinite Canvas",description:"Create stunning social media posts, posters, and more without space limitations.",Icon:S.OQ}}],R=O.map(e=>{let{src:t}=e;return t}),D=O.map(e=>{let{darkSrc:t}=e;return t}),L=()=>{let[e,t]=(0,a.useState)(0),n=O[e].content.Icon;return(0,r.jsxs)("div",{className:"relative h-full min-w-[280px] bg-neutral-20 dark:bg-neutral-800",children:[(0,r.jsx)("div",{className:"absolute inset-0 block dark:hidden",children:(0,r.jsx)(P,{currentImgIndex:e,onChange:t,images:R})}),(0,r.jsx)("div",{className:"absolute inset-0 hidden dark:block",children:(0,r.jsx)(P,{currentImgIndex:e,onChange:t,images:D})}),(0,r.jsxs)(y.S,{className:"absolute inset-x-0 bottom-[30px] z-50 mx-auto flex h-[116px] w-[256px] flex-col gap-2 p-2 dark:bg-neutral-700",children:[(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"grid h-8 w-8 place-items-center rounded-xl bg-neutral-30 dark:bg-neutral-600",children:(0,r.jsx)(n,{className:"h-4 w-4"})})}),(0,r.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,r.jsx)("h3",{className:"text-xs font-medium text-neutral-900 dark:text-neutral-0",children:O[e].content.title}),(0,r.jsx)("p",{className:"text-[11px] leading-[18px] text-neutral-600 dark:text-neutral-40",children:O[e].content.description})]})]})]})},U=()=>{let e=(0,w.k)(e=>e.isOpen),t=(0,w.k)(e=>e.setIsOpen),n=(0,s.ac)("(min-width: 1180px)");return(0,r.jsx)(I.$E,{open:e,onOpenChange:t,children:(0,r.jsxs)(I.Yk,{className:(0,b.cn)("h-full max-h-[600px] w-full overflow-hidden transition-colors duration-500",{"max-w-[1180px]":n,"max-w-[900px]":!n}),children:[(0,r.jsx)(I.Zh,{}),(0,r.jsxs)(I.DQ,{className:"w-full flex-row gap-0 overflow-hidden p-4",children:[n&&(0,r.jsx)(L,{}),(0,r.jsx)("div",{className:"h-full w-full p-6",children:(0,r.jsx)(j.m,{variant:"modal",revokeActionHandler:()=>{}})})]})]})})};var M=n(13304),H=n(99497),G=n(87138),F=n(86759),B=n(34124),V=n(60566),z=n(35273),Y=n(75942),K=n(24030),Z=n(81750),Q=n(53574),W=n(8363);let X=e=>{let{tokenItem:t}=e;return(0,r.jsxs)(H.ck,{className:"flex h-[68px] w-full cursor-pointer items-center justify-between rounded-2xl bg-neutral-20 px-4 py-3 transition-colors duration-500 hover:bg-neutral-30 dark:bg-neutral-800 dark:hover:bg-neutral-700",value:"".concat(t.stripePriceId),children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(W.E9,{value:"".concat(t.stripePriceId)}),(0,r.jsxs)("div",{className:"flex flex-col text-left",children:[(0,r.jsxs)("p",{className:"font-semibold text-neutral-900 dark:text-neutral-0",children:[t.maxQuantity," Tokens"]}),(0,r.jsxs)("p",{className:"font-medium text-neutral-600 dark:text-neutral-60",children:[t.price/t.maxQuantity," USD / token"]})]})]}),(0,r.jsxs)("div",{className:"font-semibold text-neutral-900 dark:text-neutral-0",children:["$",t.price]})]})},q=()=>{var e,t,n;let i=(0,Z.m8)()(e=>e.user),{data:s,isLoading:l}=(0,Y.sb)(),o=null==s?void 0:null===(t=s.result[0])||void 0===t?void 0:null===(e=t.StripePrice[0])||void 0===e?void 0:e.stripePriceId,[c,u]=(0,a.useState)(),m=(0,Y.wN)(),p=(0,K.n)(e=>e.isOpen),g=(0,K.n)(e=>e.setIsOpen);return(0,a.useEffect)(()=>{u(o)},[o]),(0,r.jsx)(I.$E,{open:p,onOpenChange:g,children:(0,r.jsxs)(I.Yk,{className:"flex h-fit w-[409px] flex-col items-center justify-start gap-6 p-6 pt-11",children:[(0,r.jsx)(I.Zh,{}),(0,r.jsx)("div",{className:"grid min-h-[74px] min-w-[74px] place-items-center rounded-full bg-[linear-gradient(180deg,#9C4FFF_0%,#674FFF_100%)]",children:(0,r.jsx)(S.Nl,{className:"h-11 w-11 stroke-current stroke-[3] text-neutral-0 transition-colors duration-500"})}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 text-center",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-neutral-900 transition-colors duration-500 dark:text-neutral-0",children:"Top up your tokens"}),(0,r.jsx)("p",{className:"text-sm text-neutral-600 transition-colors duration-500 dark:text-neutral-40",children:"Running low on tokens? Purchase tokens on the go and add them to your existing subscription."})]}),(0,r.jsx)(W.Kl,{className:"flex max-h-[228px] w-full flex-col gap-3 overflow-hidden overflow-y-auto",value:c,onValueChange:u,children:l?Array.from({length:3}).map((e,t)=>(0,r.jsx)(F.A,{className:"h-[68px] w-full rounded-2xl"},t)):null==s?void 0:null===(n=s.result[0])||void 0===n?void 0:n.StripePrice.map(e=>(0,r.jsx)(X,{tokenItem:e},e.id))}),(0,r.jsxs)("div",{className:"flex w-full flex-col gap-3",children:[(0,r.jsx)(d.z,{type:"button",variant:"primary",className:"w-full",size:"xl",disabled:l||m.isLoading,onClick:()=>{m.mutate(null!=c?c:"",{onSuccess:z.R9,onError:z.h_})},children:m.isLoading?(0,r.jsx)(B.$,{className:"h-5 w-5"}):"Buy tokens"}),(0,r.jsx)(d.z,{type:"button",variant:"secondary",className:"w-full",size:"xl",disabled:m.isLoading,asChild:!0,children:(0,r.jsx)(M.x8,{asChild:!0,children:(0,r.jsx)(G.default,{onClick:()=>{var e;(0,Q.iC)(V.r.UPGRADE_PLAN_BTN_DASHBOARD,null!==(e=null==i?void 0:i.email)&&void 0!==e?e:"")},href:E.H7.SUBSCRIPTION,children:"Upgrade Plan"})})})]})]})})};var $=n(6498),J=n(54361),ee=n(18431),et=n(76111);let en="low-on-tokens-modal",er=()=>{var e,t,n,i;let s=(0,Z.m8)()(e=>e.subscription),{isModalOpen:l,setIsModalOpen:o}=(0,J.d)(),c=(0,Z.m8)()(e=>e.user),u=!!c,m=(null!==(n=null==s?void 0:null===(t=s.stripe)||void 0===t?void 0:null===(e=t.StripePrice.StripeProduct)||void 0===e?void 0:e.name)&&void 0!==n?n:"")===ee.Sz.STANDARD,{data:p,isLoading:g}=(0,$.j)(),f=null!==(i=null==p?void 0:p.platformSpecificTotal)&&void 0!==i?i:0;return((0,a.useEffect)(()=>{u&&!g&&f<=30&&"true"!==sessionStorage.getItem(en)&&(o(!0),sessionStorage.setItem(en,"true"))},[o,g,f,u]),!s||g)?null:(0,r.jsx)(I.$E,{open:l,onOpenChange:o,children:(0,r.jsxs)(I.Yk,{className:"flex h-fit w-[409px] flex-col items-center justify-start gap-6 p-6 pt-11",children:[(0,r.jsx)(I.Zh,{}),(0,r.jsx)("div",{className:"grid min-h-[74px] min-w-[74px] place-items-center rounded-full bg-[linear-gradient(180deg,#9C4FFF_0%,#674FFF_100%)]",children:(0,r.jsx)(S.Nl,{className:"h-11 w-11 stroke-current stroke-[3] text-neutral-0 transition-colors duration-500"})}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 text-center",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-neutral-900 transition-colors duration-500 dark:text-neutral-0",children:"Running low on tokens"}),(0,r.jsx)("p",{className:"text-sm text-neutral-600 transition-colors duration-500 dark:text-neutral-40",children:"Purchase tokens on the go and add them to your existing subscription."})]}),(0,r.jsxs)("div",{className:"flex w-full flex-col gap-3",children:[(0,r.jsx)(et.BuyMoreTokensModalCTA,{size:"xl",onClick:()=>{var e;return(0,Q.iC)(V.r.LOW_ON_TOKENS,null!==(e=null==c?void 0:c.email)&&void 0!==e?e:"")},children:"Buy tokens"}),m&&(0,r.jsx)(d.z,{type:"button",variant:"secondary",className:"w-full",size:"xl",asChild:!0,children:(0,r.jsx)(M.x8,{asChild:!0,children:(0,r.jsx)(G.default,{href:E.H7.SUBSCRIPTION,children:"Upgrade Plan"})})})]})]})})};var ei=n(10733);let es=[E.H7.STARTER],ea=e=>{for(let t=0;t<es.length;t++)if(e.startsWith(es[t]))return!1;return!0},el=()=>{let e=(0,ei.Td)()(e=>e.announcementModal),t=(0,Z.m8)()(e=>e.user),n=(0,i.useRouter)(),a=ea((0,i.usePathname)()),l=(0,s.ac)("(max-width: 768px)");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(q,{}),(0,r.jsx)(U,{}),(0,r.jsx)(er,{}),(0,r.jsx)(N,{}),!!t&&!l&&a&&(0,r.jsx)(h,{onCloseBtnClick:()=>{_.c.triggerEventUsingElementId(v.i.ANNOUNCEMENT_POPUP_CLOSE)},announcementModal:e,redirectHandler:e=>{_.c.triggerEventUsingElementId(v.i.ANNOUNCEMENT_POPUP_CTA),n.push(e)}})]})}},13684:function(e,t,n){"use strict";n.d(t,{Initializer:function(){return G}});var r,i=n(57437),s=n(14643),a=n(2265),l=n(75994),o=n(43664),c=n(47802),d=n(82442),u=n(16463),m=n(63218),p=n(51864),g=n(72143),f=n(54795);let x=async(e,t)=>await g.p.get("".concat(f.TG.VIDEO_STATUS).concat(t?"/".concat(t):""),null==e?void 0:e.requestOptions,{throwOnError:!1});var h=n(81750);(r||(r={})).VIDEO_GENERATED="VideoGenerated";let v=e=>{let t=(0,h.m8)()(e=>e.user);return(0,p.useQuery)([r.VIDEO_GENERATED],()=>x(),{refetchInterval:3e4,onSuccess:e,enabled:!!t})};var _=n(20756),N=n(81149);let E=()=>{let e=(0,u.useRouter)(),[t,n]=(0,a.useState)(),{data:r,isFetching:s}=v(),l=(0,u.usePathname)(),o=(e,t)=>{if("success"===e.code&&(null==t?void 0:t.code)==="success"&&e.data.videos.length===t.data.videos.length)for(let n=0;n<e.data.videos.length;n++){let r=e.data.videos[n].code,i=t.data.videos[n].code;if(r!==i&&i===_.w.FINISHED)return!0}return!1};return(0,a.useEffect)(()=>{t&&!s&&o(t,r)&&l!==m.H7.LIBRARY&&d.Am.success("Your video is Ready",{duration:4e3,renderCta:t=>(0,i.jsx)(N.z,{...t,onClick:()=>{e.push(m.H7.LIBRARY)},children:"View Now"})}),n(r)},[r,t,s,e,l]),null};var I=n(44785),j=n(89216),w=n(1576),b=n(6498),y=n(73179),k=n(32324),S=n(21795);let T=async(e,t,n,r,i)=>{let s=t;if(!e.current){if(!t&&n){e.current=!0;let a=await (0,S.Pl)(null!=t?t:"",null!=n?n:"",null!=r?r:"");if(a)(0,S.Ml)({token:a.sessionToken,refreshToken:a.refreshToken,tokenExpiresIn:a.tokenExpiresIn,cookies:I.Z}),e.current=!1,s=a.sessionToken;else try{await (0,k.kS)()}catch(e){throw Error("Your session has expired. Please sign in again to continue using the application.")}finally{i()}}else if(!t&&!n)try{await (0,k.kS)()}catch(e){throw Error("Your session has expired. Please sign in again to continue using the application.")}finally{i()}}return s},A=[f.TG.TEXT_BASED_REALTIME_GENERATION,f.TG.IMAGE_BASED_REALTIME_GENERATION],C=()=>{let e=(0,y.a)(),t=(0,a.useRef)(!1),{refetch:n}=(0,b.j)();return(0,a.useEffect)(()=>{let r=g.p.interceptors.request.use(async n=>{t.current&&await (0,c.Ch)(()=>!t.current,500);let r=I.Z.get(w.R.TOKEN),i=I.Z.get(w.R.REFRESH_TOKEN),s=I.Z.get(w.R.TOKEN_EXPIRES_IN),a=new Headers(n.headers);return r=await T(t,r,i,s,e),a.set("X-Platform","".concat(j.K.WEB)),a.set("Authorization","Bearer ".concat(r)),n.headers=a,n}),i=g.p.interceptors.response.use(e=>(A.some(t=>{var n;return null===(n=e.response.url)||void 0===n?void 0:n.includes(t)})||n(),e));return()=>{g.p.interceptors.request.eject(r),g.p.interceptors.response.eject(i)}},[]),null},P=()=>{let e=(0,u.useSearchParams)();return(0,c.Pu)(e),null};var O=n(80732),R=n(88318),D=n(85951),L=n(14125);let U=()=>{var e,t,n;let r=(0,u.useSearchParams)(),i=(0,h.m8)()(e=>e.user),{aggregator:s}=(0,D.O)(),l=(0,h.m8)()(e=>e.subscription),{stripeSubscription:o}=(0,L.L)(l),{isSubscriptionActive:c}=(0,L.L)(l),d=null==o?void 0:null===(t=o.StripePrice)||void 0===t?void 0:null===(e=t.StripeProduct)||void 0===e?void 0:e.name,m=null==o?void 0:null===(n=o.StripePrice)||void 0===n?void 0:n.billingInterval,p=c?"Premium":"Free",g=(0,u.usePathname)();return(0,a.useEffect)(()=>{i&&("true"===r.get("isSignUp")&&s.log(O.H.signup_completed.withProperties({signup_channel:"Web",name:null==i?void 0:i.name,email:null==i?void 0:i.email,distinct_id:null==i?void 0:i.id})),"false"===r.get("isSignUp")&&s.log(O.H.login_completed.withProperties({signup_channel:"Web",email:null==i?void 0:i.email,user_account_status:p,user_plan:d,user_plan_period:m,page_name:R.I[g],distinct_id:i.id})))},[i,s,r,d,m,p,g]),null};var M=n(53574);let H=()=>{let e=(0,h.m8)()(e=>e.user),t=null==e?void 0:e.email;return(0,a.useEffect)(()=>{try{t&&((0,M.jl)(t),(0,M.Y8)(t))}catch(e){}},[t]),null},G=e=>{let{children:t}=e;return(0,a.useEffect)(()=>{o.c.initAnalytics(),(0,s.MD)(),(0,c.g_)()},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.wm,{}),(0,i.jsx)(P,{}),(0,i.jsx)(C,{}),(0,i.jsx)(H,{}),(0,i.jsx)(U,{}),(0,i.jsx)(E,{}),t,(0,i.jsx)(d.Z3,{})]})}},19651:function(e,t,n){"use strict";n.d(t,{Providers:function(){return T}});var r=n(57437),i=n(47808),s=n(27079),a=n(81171),l=n(2265),o=n(52247),c=n(96994),d=n(85951),u=n(42911),m=n(22291),p=n.n(m),g=n(86835);let f={gtmId:o.v.GTM_ID};class x extends g.n{log(e){let{properties:t}=e;this.manager.dataLayer({dataLayer:{event:"gtm.click","gtm.elementId":e.name,...t}})}constructor(){super(),this.manager=p(),this.manager.initialize(f)}}var h=n(80732),v=n(63218);class _ extends g.n{log(e){e.id===h.H.nothing.id?this.analyticProvider.log(e):(e.match({event:h.H.export,callback:e=>{if(e.properties.page_name===v.H7.CANVAS_TOOL){let t=e.extractProperties(["email","total_images_exported","tokens_remaining","user_plan","user_plan_period","user_account_status","page_name","export_all","source","file_size","file_type","distinct_id"]);this.analyticProvider.log(t)}else{let t=e.extractProperties(["email","total_images_exported","tokens_remaining","user_plan","user_plan_period","page_name","user_account_status","export_all","source","distinct_id"]);this.analyticProvider.log(t)}}}),e.match({event:h.H.logout_completed,callback:e=>{let t=e.extractProperties(["signup_channel","email","user_plan_period","user_plan","user_account_status","page_name","logout_count","distinct_id"]);this.analyticProvider.log(t)}}),e.match({event:h.H.signup_completed,callback:e=>{let t=e.extractProperties(["signup_channel","email","mode","marketing_consent","name","distinct_id"]);this.analyticProvider.log(t)}}),e.match({event:h.H.login_completed,callback:e=>{let t=e.extractProperties(["email","login_count","mode","page_name","revenue_till_date","signup_channel","user_account_status","user_plan","user_plan_period","distinct_id"]);this.analyticProvider.log(t)}}),e.match({event:h.H.add_to_cart,callback:e=>{let t=e.extractProperties(["amount","currency","email","page_name","signup_channel","tokens_amount","user_plan_period","user_plan","distinct_id"]);this.analyticProvider.log(t)}}),e.match({event:h.H.purchase,callback:e=>{let t=e.extractProperties(["Payment_status","amount","currency","email","page_name","payment_method","signup_channel","subscription_downgrade","subscription_upgrade","tokens_amount","tokens_remaining","user_plan","user_plan_period","distinct_id","renewal_status","topup_purchased"]);this.analyticProvider.log(t)}}),e.match({event:h.H.image_generated,callback:e=>{if("Text to Image"===e.properties.feature){let t=e.extractProperties(["feature","number_of_images","aspect_ratio","cfg_scale","hdr_enabled","model_id","model_used","style_used","page_name","negative_prompt_used","negative_prompt_length","random_prompt_used","seed","session_text_to_image","source","steps","tag_used","user_account_status","user_plan","user_plan_period","email","texttoimages_generated","ai_generations","tokens_remaining","generation_source","prompt_length","processing_error","processing_status","tag_category","distinct_id"]);this.analyticProvider.log(t)}if("Image Remix"===e.properties.feature){let t=e.extractProperties(["feature","number_of_images","cfg_scale","model_id","model_used","style_used","negative_prompt_used","negative_prompt_length","random_prompt_used","hdr_enabled","seed","source","tag_used","user_plan","user_account_status","user_plan_period","email","ai_generations","tokens_remaining","image_strength","remix_mode","session_image_remix","generation_source","remix_generated","page_name","prompt_length","processing_error","processing_status","tag_category","distinct_id"]);this.analyticProvider.log(t)}if("Creative Enhance"===e.properties.feature){let t=e.extractProperties(["feature","number_of_images","source","advance_settings_used","creativity","resemblance","hdr_strength","prompt_used","prompt_length","enhance_generated","page_name","processing_status","processing_error","email","user_account_status","user_plan","user_plan_period","tokens_remaining","distinct_id"]);this.analyticProvider.log(t)}}}))}constructor(e){super(),this.analyticProvider=e}}var N=n(10733),E=n(81750),I=n(95401),j=n(16463),w=n(11567),b=n(85169);let y=[{pathname:v.H7.APPS,exact:!1},{pathname:v.H7.ROOT,exact:!0},{pathname:v.H7.BLOGS,exact:!1},{pathname:v.H7.STARTER,exact:!1},{pathname:v.H7.AI_IMAGE_GENERATOR,exact:!0}],k=e=>{for(let t=0;t<y.length;t++){let n=y[t];if((0,w.default)(e,n.pathname,n.exact))return"dark"}},S=e=>{let{children:t}=e,n=(0,j.usePathname)();return(0,r.jsx)(b.f,{enableSystem:!0,attribute:"class",disableTransitionOnChange:!0,forcedTheme:k(n),children:t})},T=e=>{let{children:t,remoteConfigValues:n,userStoreValues:m}=e,[p,g]=(0,l.useState)(()=>new u.j([])),[f]=(0,l.useState)(()=>new i.S({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!1}}}));return(0,l.useEffect)(()=>{let e=new _(new x);g(new u.j([e]))},[]),(0,r.jsx)(d.n,{aggregator:p,children:(0,r.jsx)(c.f,{children:(0,r.jsx)(E.KG,{initialState:m,children:(0,r.jsx)(N.hO,{initialState:n,children:(0,r.jsx)(S,{children:(0,r.jsx)(I.Xf,{children:(0,r.jsxs)(s.QueryClientProvider,{client:f,children:[t,!o.v.IS_PROD_DEPLOYMENT&&(0,r.jsx)(a.t,{initialIsOpen:!1})]})})})})})})})}},75994:function(e,t,n){"use strict";n.d(t,{Ty:function(){return o},wm:function(){return l}});var r=n(16463),i=n(64278),s=n(2265);let a="PROGRESS_ROUTER",l=()=>{let e=(0,r.usePathname)(),t=(0,r.useSearchParams)();return(0,s.useEffect)(()=>{var e;(null!==(e=sessionStorage.getItem(a))&&void 0!==e?e:"false")!=="true"||(i.done(),sessionStorage.setItem(a,"false"))},[e,t]),null},o=()=>{let e=(0,r.useRouter)(),t=(0,s.useCallback)((t,n)=>{sessionStorage.setItem(a,"true"),i.start(),e.push(t,n)},[e]);return(0,s.useMemo)(()=>({push:t}),[t])}},89216:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});let r={ANDROID:1,IOS:2,WEB:3,UNIVERSAL:null}},96994:function(e,t,n){"use strict";n.d(t,{V:function(){return c},f:function(){return o}});var r=n(57437),i=n(16463),s=n(2265),a=n(88318);let l=(0,s.createContext)({source:"",page:"",onNavigation:()=>{}}),o=e=>{let{children:t}=e,[n,o]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),u=(0,i.usePathname)();(0,s.useEffect)(()=>{var e;o(null!==(e=sessionStorage.getItem("source"))&&void 0!==e?e:"")},[]);let m=(0,s.useCallback)(e=>{o(c),c&&sessionStorage.setItem("source",c),d(a.I[e])},[c]);(0,s.useEffect)(()=>{m(u)},[u]);let p=(0,s.useMemo)(()=>({source:n,page:c,onNavigation:m}),[n,c,m]);return(0,r.jsx)(l.Provider,{value:p,children:t})},c=()=>{let e=(0,s.useContext)(l);if(void 0===e)throw Error("useToolsContext must be used within a ToolsProvider");return e}},54362:function(e,t,n){"use strict";n.d(t,{PricingModalCTA:function(){return p}});var r=n(57437),i=n(16463),s=n(2265),a=n(63218),l=n(60566),o=n(54012),c=n(81750),d=n(53574),u=n(81149);let m={[a.H7.FROM_TEXT]:l.r.TEXT_TO_IMAGE_UPGRADE_BTN,[a.H7.IMAGE_REMIX]:l.r.IMAGE_REMIX_UPGRADE_BTN,[a.H7.CANVAS_TOOL]:l.r.CANVAS_UPGRADE_BTN},p=(0,s.forwardRef)((e,t)=>{let{onClick:n,...s}=e,l=(0,i.usePathname)(),p=(0,o.k)(e=>e.open),g=(0,c.m8)()(e=>e.user),f=!!(null==g?void 0:g.id),x=(0,i.useRouter)();return(0,r.jsx)(u.z,{type:"button",ref:t,...s,onClick:e=>{var t;if(!f){x.push(a.H7.TOOLS_AUTH);return}null==n||n(e),p(),m[l]&&(0,d.iC)(m[l],null!==(t=null==g?void 0:g.email)&&void 0!==t?t:"")}})});p.displayName="PricingModalCTA"},76111:function(e,t,n){"use strict";n.d(t,{BuyMoreTokensModalCTA:function(){return l}});var r=n(57437),i=n(2265),s=n(24030),a=n(81149);let l=(0,i.forwardRef)((e,t)=>{let{onClick:n,...i}=e,l=(0,s.n)(e=>e.open);return(0,r.jsx)(a.z,{type:"button",ref:t,...i,onClick:e=>{null==n||n(e),l()}})});l.displayName="BuyMoreTokensModalCTA"},6498:function(e,t,n){"use strict";n.d(t,{X:function(){return m},j:function(){return u}});var r,i,s=n(51864),a=n(94046),l=n(81750),o=n(89216);let c=new Set([o.K.WEB,o.K.UNIVERSAL]),d=async()=>{let e=await (0,a.VV)(),t=e.tokens.filter(e=>{let{platform:t}=e;return c.has(t)}).reduce((e,t)=>e+t.balance,0);return{...e,platformSpecificTotal:t}};(r=i||(i={})).TOKEN_COUNT="TokenCount",r.TOKEN_CONSUMPTION_CONFIG="TokenConsumptionConfig";let u=()=>{let e=(0,l.m8)()(e=>e.user);return(0,s.useQuery)([i.TOKEN_COUNT],d,{enabled:!!e,staleTime:36e5})},m=()=>(0,s.useQuery)([i.TOKEN_CONSUMPTION_CONFIG],a.L5,{staleTime:36e5})},73179:function(e,t,n){"use strict";n.d(t,{a:function(){return u}});var r=n(16463),i=n(63218),s=n(18741),a=n(5672),l=n(18617),o=n(30507),c=n(81750),d=n(21795);let u=()=>{let e=(0,r.useRouter)(),t=(0,a.TI)(e=>e.resetCollectionStore),n=(0,l.IJ)(e=>e.resetCollectionStore),u=(0,s.m)(e=>e.resetChangePlanStoreStore),m=(0,o.p)(e=>e.resetPersistToolSettingStore),p=(0,c.m8)()(e=>e.logoutUser);return()=>{p(),t(),n(),u(),m(),(0,d.J5)(),e.push(i.H7.AUTH)}}},76015:function(e,t,n){"use strict";n.d(t,{$E:function(){return c},DQ:function(){return f},Yk:function(){return p},Zh:function(){return m},_w:function(){return g},mp:function(){return h},vb:function(){return x}});var r=n(57437),i=n(13304),s=n(2265),a=n(8792),l=n(24528),o=n(81149);let c=i.fC;i.xz;let d=e=>(0,r.jsx)(i.h_,{...e});d.displayName=i.h_.displayName;let u=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(i.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black bg-opacity-70 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...s})});u.displayName=i.aV.displayName;let m=e=>{let{btnProps:t={},...n}=e,{className:s,variant:c="ghost-secondary",size:d="icon-sm",...u}=t;return(0,r.jsx)(o.z,{variant:c,size:d,className:(0,l.cn)("absolute right-2 top-2",s),asChild:!0,...u,children:(0,r.jsxs)(i.x8,{...n,children:[(0,r.jsx)(a.aM,{className:"h-[18px] w-[18px] stroke-[1.5]"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})})};m.displayName=i.x8.displayName;let p=s.forwardRef((e,t)=>{let{className:n,children:s,onModalClose:a,onCloseAutoFocus:o,disableAnimation:c=!1,container:m=document.body,...p}=e;return(0,r.jsxs)(d,{container:m,children:[(0,r.jsx)(u,{}),(0,r.jsx)(i.VY,{onCloseAutoFocus:e=>{null==a||a(),null==o||o(e)},ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 flex translate-x-[-50%] translate-y-[-50%] flex-col justify-between rounded-[18px] bg-neutral-0 text-neutral-600 shadow-lg transition-all duration-200 dark:bg-neutral-900 dark:text-neutral-40",{"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]":!c},n),...p,children:s})]})});p.displayName=i.VY.displayName;let g=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex h-12 flex-col justify-center gap-1 border-b border-neutral-20 p-2 pl-4 transition-all duration-500 dark:border-neutral-800",t),...n})};g.displayName="GenericModalHeader";let f=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex h-full flex-1 flex-col gap-1",t),...n})};f.displayName="GenericModalBody";let x=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex h-fit items-center justify-end p-6 pt-0",t),...n})};x.displayName="GenericModalFooter";let h=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(i.Dx,{ref:t,className:(0,l.cn)("font-medium text-neutral-900 transition-all duration-500 dark:text-neutral-0",n),...s})});h.displayName=i.Dx.displayName,s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(i.dk,{ref:t,className:(0,l.cn)("text-sm text-neutral-600 dark:text-neutral-40",n),...s})}).displayName=i.dk.displayName},8363:function(e,t,n){"use strict";n.d(t,{Kl:function(){return o},E9:function(){return c}});var r=n(57437),i=n(99497),s=n(2265),a=n(24528);let l=(0,n(12218).j)("aspect-square rounded-full border-2 border-neutral-200 dark:border-neutral-200 shadow ring-primary-500 dark:ring-primary-400 hover:border-primary-500 dark:hover:border-primary-400 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:border-primary-500 dark:data-[state=checked]:border-primary-400",{variants:{size:{sm:"sm h-4 w-4",md:"md h-5 w-5",lg:"lg h-6 w-6"}},defaultVariants:{size:"md"}}),o=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(i.fC,{className:(0,a.cn)("grid gap-2",n),...s,ref:t})});o.displayName=i.fC.displayName;let c=s.forwardRef((e,t)=>{let{className:n,size:s,...o}=e;return(0,r.jsx)(i.ck,{ref:t,className:(0,a.cn)(l({size:s,className:n})),...o,children:(0,r.jsx)(i.z$,{className:"flex items-center justify-center",children:(0,r.jsx)("div",{className:"h-2 w-2 rounded-full bg-primary-500 transition-colors duration-500 dark:bg-primary-400 [.lg_&]:h-2.5 [.lg_&]:w-2.5 [.sm_&]:h-1.5 [.sm_&]:w-1.5"})})})});c.displayName=i.ck.displayName},78958:function(e,t,n){"use strict";n.d(t,{m:function(){return s}});var r=n(2265),i=n(82442);let s=()=>{let[e,t]=(0,r.useState)(null);return{value:e,copy:async e=>{var n;if(!(null===(n=navigator)||void 0===n?void 0:n.clipboard))return i.Am.error("Your browser does not support copying to clipboard"),!1;try{return await navigator.clipboard.writeText(e),t(e),!0}catch(e){return i.Am.error("Failed to copy to clipboard"),t(null),!1}}}}},72143:function(e,t,n){"use strict";n.d(t,{p:function(){return a}});var r=n(52247),i=n(11141),s=n(70778);let a=new i.hE({baseURL:r.v.ANPU_API_URL,defaultHeadersGenerator:s.A})},94046:function(e,t,n){"use strict";n.d(t,{xv:function(){return c},L5:function(){return o},VV:function(){return l}});var r=n(52247),i=n(11141),s=n(70778);let a=new i.hE({baseURL:r.v.ANPU_API_URL,defaultHeadersGenerator:s.A}),l=async()=>{let{data:e}=await a.get("/credit",void 0,{throwOnError:!0});return e},o=async()=>{let{data:e}=await a.get("/cost",void 0,{throwOnError:!0});return e},c=async e=>{let{data:t}=await a.get("/session",null==e?void 0:e.requestOptions,{throwOnError:!0});return t}},54795:function(e,t,n){"use strict";n.d(t,{SN:function(){return c},TG:function(){return i},WX:function(){return d},kw:function(){return a},zx:function(){return l}});var r,i,s=n(29328);let a=e=>{let t=new Headers;return t.append("Content-Type","multipart/form-data"),t.append("Premium",(0,s.Q)(e)),t},l=()=>({model_version:1}),o=e=>null!=e&&e.trim().length>0,c=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=t.filter(o);if(0!==r.length)return r.join(", ")},d=(e,t)=>{var n;let{model:r,aspect_ratio:i,cfg:s,style:a,prompt:o,negative_prompt:d,tags:u,high_res_results:m,seed:p}=e,{model_id:g}=r,f=null!==(n=c(o,null==r?void 0:r.init_prompt,null==a?void 0:a.init_prompt,...Object.entries(u).flatMap(e=>Array.from(e[1]))))&&void 0!==n?n:"",x=c(d,null==r?void 0:r.init_neg_prompt,null==a?void 0:a.init_neg_prompt),h={...l(),aspect_ratio:i,cfg:s,prompt:f,style_id:g,seed:null!=p?p:t};return x&&x.length>0&&(h.negative_prompt=x),m&&r.hdr_toggle&&(h.high_res_results=1),h};(r=i||(i={})).UPSCALE="/upscale",r.ENHANCE="/enhance",r.BACKGROUND_REMOVER="/background/remover",r.INPAINT="/edits/inpaint",r.OUTPAINT="/edits/outpaint",r.IMAGE_REMIX="/edits/remix",r.IMAGE_BASED_REALTIME_GENERATION="/edits/remix/turbo",r.FROM_TEXT="/generations",r.VARIATE="/generations/variations",r.CHARACTER_CONSISTENCY="/generations/consistent",r.TEXT_BASED_REALTIME_GENERATION="/generations/turbo",r.VIDEO_STATUS="/video/status",r.VIDEO_UPLOAD="/video/upload",r.VIDEO_DELETE="/video/delete",r.VIDEO_DOWNLOAD="/video/download",r.VIDEO_THUMBNAIL_DOWNLOAD="/video/thumbnail",r.FACE_DETECT="/info/faces"},20756:function(e,t,n){"use strict";var r,i;n.d(t,{w:function(){return r}}),(i=r||(r={}))[i.PENDING=0]="PENDING",i[i.PROCESSING=1]="PROCESSING",i[i.FINISHED=2]="FINISHED",i[i.FAILED=-1]="FAILED"},24030:function(e,t,n){"use strict";n.d(t,{n:function(){return r}});let r=(0,n(39099).Ue)()(e=>({isOpen:!1,setIsOpen:t=>e({isOpen:t}),open:()=>e({isOpen:!0})}))},5672:function(e,t,n){"use strict";n.d(t,{TI:function(){return s},cg:function(){return a},yn:function(){return i}});var r=n(67259);let i=(e,t)=>(0,r.Qt)(e,t),s=(0,r.hB)(i),a=(0,r.hB)(i)},67259:function(e,t,n){"use strict";n.d(t,{Qt:function(){return m},hB:function(){return g}});var r=n(14643),i=n(20920),s=n(39099),a=n(89291),l=n(22241),o=n(52247),c=n(47802);let d=(e,t)=>{if(!e||!t)return!1;let n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(n=>{let r=e[n],i=t[n];return r&&i&&(0,c.EE)(r,i)})},u=e=>(null==e?void 0:e.trim().toLowerCase())||"",m=(e,t)=>{var n,r,i,s;return!!e&&!!t&&d(e.tags,t.tags)&&e.aspect_ratio===t.aspect_ratio&&e.cfg===t.cfg&&e.high_res_results===t.high_res_results&&u(e.negative_prompt)===u(t.negative_prompt)&&u(e.prompt)===u(t.prompt)&&e.seed===t.seed&&(null===(n=e.style)||void 0===n?void 0:n.id)===(null===(r=t.style)||void 0===r?void 0:r.id)&&(null===(i=e.model)||void 0===i?void 0:i.id)===(null===(s=t.model)||void 0===s?void 0:s.id)},p=e=>{let{collections:t,selectedCollectionId:n}=e;return n?t.findIndex(e=>e.id===n):-1},g=e=>(0,s.Ue)()((0,l.n)((0,a.mW)((t,n)=>({collections:[],selectedCollectionId:void 0,selectedImageId:void 0,setSelectedCollection:e=>{t(t=>{let n=t.collections.find(t=>t.id===e.id);n&&(t.selectedCollectionId=n.id,t.selectedImageId=n.images[0].id)})},setSelectedImage:e=>{t(t=>{let n=t.collections.find(e=>e.id===t.selectedCollectionId);n&&n.images.find(t=>t.id===e)&&(t.selectedImageId=e)})},addImagesToCollection:(s,a,l)=>{t(t=>{let o=p(n()),c=(0,r.cA)(a),d=s.map(e=>({id:(0,i.Z)(),...e,...l?{originalSrc:l.src,originalImageId:l.id,isVariation:!!l}:{}}));if(-1===o||!t.collections[o]){let e=(0,r.cA)({id:(0,i.Z)(),images:d,settings:a});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id;return}let u=t.collections.findIndex(t=>e(t.settings,c));if(-1!==u)t.collections[u].images.unshift(...d);else{let e=(0,r.P2)({id:(0,i.Z)(),images:d,settings:a});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id}})},addImageToCollectionWithLoading:(s,a)=>{let l=(0,i.Z)();return t(t=>{let o=p(n()),c=(0,r.cA)(s),d={id:l,src:"",...a?{originalSrc:a.src,originalImageId:a.id,isVariation:!!a}:{},isLoading:!0};if(-1===o||!t.collections[o]){let e=(0,r.cA)({id:(0,i.Z)(),images:[d],settings:s});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id;return}let u=t.collections.findIndex(t=>e(t.settings,c));if(-1!==u)t.collections[u].images.unshift(d);else{let e=(0,r.P2)({id:(0,i.Z)(),images:[d],settings:s});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id}}),{imageId:l,collectionId:""}},completeImageGenerationLoading(e){let{image:r,imageId:i}=e;t(e=>{e.collections.forEach(e=>{let t=e.images.find(e=>e.id===i);t&&(t.isLoading=!1,t.src=r.src,r.randomSeed&&(t.randomSeed=r.randomSeed))});let t=p(n());if(-1===t)return;let s=e.collections[t].images.find(e=>e.id===i);s&&(s.src=r.src,s.isLoading=!1,r.randomSeed&&(s.randomSeed=r.randomSeed))})},deleteLoadingImage(e){t(t=>{var r;let i=p(n());-1!==i&&(t.collections[i].images=t.collections[i].images.filter(t=>t.id!==e),t.collections[i].images.length>0||(t.collections.splice(i,1),t.selectedCollectionId=null===(r=t.collections[0])||void 0===r?void 0:r.id))})},resetCollectionStore:()=>{t(e=>{e.collections=[],e.selectedCollectionId=void 0,e.selectedImageId=void 0})},setImageLoading:(e,r)=>{t(t=>{t.collections.forEach(t=>{let n=t.images.find(t=>t.id===e);n&&(n.isLoading=r)});let i=p(n());if(-1===i)return;let s=t.collections[i].images.find(t=>t.id===e);s&&(s.isLoading=r)})},setImagesUpscale:(e,r,i)=>{t(t=>{t.collections.forEach(t=>{t.images.forEach(t=>{e===t.id&&(t.upscaleSrc=r,t.isUpscaled=i)})});let s=p(n());-1!==s&&t.collections[s].images.forEach(t=>{e===t.id&&(t.upscaleSrc=r,t.isUpscaled=i)})})},deleteImage:e=>{t(t=>{var r;t.collections.forEach(t=>{t.images=t.images.filter(t=>t.id!==e)}),e===t.selectedImageId&&(t.selectedImageId=void 0);let i=p(n());-1!==i&&(t.collections[i].images=t.collections[i].images.filter(t=>t.id!==e),t.collections[i].images.length>0||(t.collections=t.collections.filter(e=>{var n;return e.id!==(null===(n=t.collections[i])||void 0===n?void 0:n.id)}),t.selectedCollectionId=null===(r=t.collections[0])||void 0===r?void 0:r.id))})},setFocusOfOriginalImage:(e,r)=>{t(t=>{let i=p(n());if(-1===i)return;let s=t.collections[i].images.find(t=>t.id===e);s&&(s.isFocused=r)})}}),{enabled:!o.v.IS_PROD_DEPLOYMENT&&(0,c.Ep)().isBrowser})))},18617:function(e,t,n){"use strict";n.d(t,{Hv:function(){return a},IJ:function(){return s},Tp:function(){return i}});var r=n(67259);let i=(e,t)=>(null==e?void 0:e.image)===(null==t?void 0:t.image)&&(null==e?void 0:e.control)===(null==t?void 0:t.control)&&(null==e?void 0:e.strength)===(null==t?void 0:t.strength)&&(0,r.Qt)(e,t),s=(0,r.hB)(i),a=(0,r.hB)(i)},30507:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r=n(39099),i=n(89291);let s=(0,r.Ue)()((0,i.tJ)(e=>({persistedFromTextSetting:null,persistedImageRemixSetting:null,persistFromTextSetting:t=>e({persistedFromTextSetting:t}),persistImageRemixSetting:t=>{let{image:n,imageCroppedFrom:r,...i}=t;return e({persistedImageRemixSetting:i})},resetPersistToolSettingStore:()=>e({persistedFromTextSetting:null,persistedImageRemixSetting:null})}),{name:"persist-tool-setting"}))},54012:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});let r=(0,n(39099).Ue)()(e=>({isOpen:!1,setIsOpen:t=>e({isOpen:t}),open:()=>e({isOpen:!0})}))},29328:function(e,t,n){"use strict";n.d(t,{Q:function(){return c},eL:function(){return d}});var r=n(57437),i=n(54362),s=n(76111),a=n(17674),l=n(11141),o=n(82442);let c=e=>e?"True":"False",d=(e,t)=>{if(e&&"object"==typeof e&&"code"in e&&"error"===e.code){if(e.statusCode===l.fJ.ABORTED){o.Am.error("Request canceled");return}if(e.error instanceof Error){o.Am.error(e.error.message);return}if(1101===e.error.code){o.Am.warning("Insufficient tokens. Tokens replenish every 12 hours.",{icon:(0,r.jsx)(a.Ss,{}),renderCta:e=>t?(0,r.jsx)(s.BuyMoreTokensModalCTA,{...e,children:"Buy tokens"}):(0,r.jsx)(i.PricingModalCTA,{...e,children:"Upgrade"}),className:"max-w-[500px]"});return}if(1100===e.error.code){o.Am.error("Sent request in invalid");return}if(400===e.statusCode||451===e.statusCode){o.Am.error("You can not generate Images of kids and celebrities.");return}o.Am.error(e.error.error);return}o.Am.error("Processing failed")},u=e=>new Promise(t=>{setTimeout(t,e)}),m=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;try{return await e()}catch(r){if(n>0)return await u(t),m(e,2*t,n-1);throw r}}},53054:function(){},31183:function(){}},function(e){e.O(0,[3008,9141,4488,1750,9026,6533,7138,1606,7032,226,3304,8286,7071,1298,6526,3370,2146,8662,2314,7130,5223,7808,5092,8635,9602,8030,2237,1587,2971,7023,1744],function(){return e(e.s=58925)}),_N_E=e.O()}]);